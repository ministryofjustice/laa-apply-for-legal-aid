<%= render partial: 'shared/forms/error_summary', locals: { model: @form } %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <legend class="govuk-fieldset__legend govuk-fieldset__legend--xl">
      <h1 class="govuk-fieldset__heading">
        <%= t('forms.address_lookup.heading') %>
      </h1>
    </legend>

    <%= form_with(
          model: @form,
          scope: :address_lookup,
          url: providers_legal_aid_application_address_lookup_path(@legal_aid_application),
          method: :patch,
          local: true
        ) do |form| %>

      <%= hidden_field_tag :redirect_path, params[:redirect_path] if params[:redirect_path] %>

      <div class="govuk-!-padding-bottom-6"></div>

      <div class="govuk-!-padding-bottom-2"></div>

      <%= form.govuk_text_field :postcode, class: 'govuk-input--width-10' %>

      <%= form.submit 'Find address', id: 'find-address', class: 'govuk-button' %>

      <%
        url_options = {}
        url_options[:redirect_path] = params[:redirect_path] if params[:redirect_path]
      %>

      <p><%= link_to 'Enter address manually', providers_legal_aid_application_address_path(url_options), class: 'govuk-link' %></p>
    <% end %>
  </div>
</div>
