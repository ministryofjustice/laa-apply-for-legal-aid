<% show_client_involvment_type = false unless local_assigns.key?(:show_client_involvment_type) %>

<dl class="govuk-summary-list govuk-!-margin-bottom-9">
  <%= check_answer_link(
        name: :proceeding_type,
        question: t('.section_proceeding.client_involvement_type'),
        answer: t('.section_proceeding.client_involvement_type_applicant')
      ) if show_client_involvment_type %>

  <%= check_answer_link(
        name: :proceeding_type,
        url: providers_legal_aid_application_proceedings_types_path(anchor: 'proceeding-search-input'.freeze),
        question: t('.section_proceeding.proceeding'),
        answer: legal_aid_application.lead_proceeding_type.meaning,
        read_only: read_only
      ) %>

  <%= check_answer_link(
        name: :used_delegated_functions,
        url: providers_legal_aid_application_used_delegated_functions_path,
        question: t('.section_proceeding.used_delegated_functions'),
        answer: yes_no(legal_aid_application.used_delegated_functions),
        read_only: read_only
      ) %>

  <%= check_answer_link(
        name: :used_delegated_functions_on,
        url: providers_legal_aid_application_used_delegated_functions_path(anchor: :used_delegated_functions_on),
        question: t('.section_proceeding.used_delegated_functions_on'),
        answer: legal_aid_application.used_delegated_functions_on,
        read_only: read_only
      )  if legal_aid_application.used_delegated_functions? %>

  <%= check_answer_link(
        name: :proceeding_costs,
        question: t('.section_proceeding.costs'),
        answer: number_to_currency(legal_aid_application.default_cost_limitation,  precision: 0),
        read_only: true
      ) %>

  <% scope_limitation = legal_aid_application.used_delegated_functions? ? legal_aid_application.delegated_functions_scope_limitation : legal_aid_application.substantive_scope_limitation %>
  <%= check_answer_link(
        name: :proceeding_work,
        question: t('.section_proceeding.work'),
        answer: scope_limitation&.description,
        read_only: true
      ) %>
</dl>
