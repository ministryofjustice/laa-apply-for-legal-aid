<% latest_incident_details = incident&.told_on.present? && incident&.occurred_on.present?
   title = latest_incident_details ? t(".latest-incident-heading") : t(".when-contact-was-made-heading") %>
<%= govuk_summary_card(title: title, html_attributes: { id: "app-check-your-answers__latest_incident_details" }, heading_level: 3) do |card|
      url = latest_incident_details ? providers_legal_aid_application_date_client_told_incident_path(@legal_aid_application) : providers_legal_aid_application_when_contact_was_made_path(@legal_aid_application)
      unless read_only
        card.with_action do
          govuk_link_to(t("generic.change"), url, visually_hidden_text: t(".latest-incident-heading"))
        end
      end
      card.with_summary_list(actions: false) do |summary_list|
        if latest_incident_details
          summary_list.with_row(html_attributes: { id: "app-check-your-answers__notification_of_latest_incident" }) do |row|
            row.with_key(text: t("shared.check_answers.merits.latest_incident_details.notification_of_latest_incident"), classes: "govuk-!-width-one-third")
            row.with_value(text: incident&.told_on)
          end
          summary_list.with_row(html_attributes: { id: "app-check-your-answers__date_of_latest_incident" }) do |row|
            row.with_key(text: t("shared.check_answers.merits.latest_incident_details.date_of_latest_incident"))
            row.with_value(text: incident&.occurred_on)
          end
        else
          summary_list.with_row(html_attributes: { id: "app-check-your-answers__when_contact_was_made" }) do |row|
            row.with_key(text: t("shared.check_answers.merits.latest_incident_details.first-contact-date"), classes: "govuk-!-width-one-third")
            row.with_value(text: incident&.first_contact_date)
          end
        end
      end
    end %>
